# Project Information: https://www.mkdocs.org/user-guide/configuration/#project-information
site_name: Watchtower
site_url: https://nicholas-fedor.github.io/watchtower/
repo_url: https://github.com/nicholas-fedor/watchtower/

# Path from repo_url to the docs directory for direct editing links, set to main branch.
edit_uri: edit/main/docs/

# Description for meta tags in HTML header.
site_description: Documentation for Watchtower, a solution for automating Docker container image updates.

# Copyright information displayed in the documentation footer (Material theme).
copyright: Copyright Â© 2025 Nicholas Fedor

# Theme Configuration: https://www.mkdocs.org/user-guide/configuration/#theme
theme:
  name: "material"
  # Custom color scheme for the Material theme, defined in custom CSS or overrides.
  palette:
    - media: "(prefers-color-scheme: light)"
      scheme: watchtower
      toggle:
        icon: material/weather-night
        name: Switch to dark mode
    - media: "(prefers-color-scheme: dark)"
      scheme: watchtower-dark
      toggle:
        icon: material/weather-sunny
        name: Switch to light mode
  # Logo image for the site header, relative to docs_dir.
  logo: images/logo-450px.png
  # Git icon for the site header.
  icon:
    repo: fontawesome/brands/github
  # Favicon for the site, relative to docs_dir.
  favicon: images/favicon.ico
  # Directory for custom theme overrides, e.g., partials or main.html.
  custom_dir: ../../docs/overrides
  # Material theme features for enhanced navigation and usability.
  features:
    - navigation.tabs
    - navigation.sections
    - navigation.expand
    - toc.follow
    - search.suggest
    - search.highlight
    - content.code.copy
    - content.tooltips
    - content.tabs.link
    - navigation.top

# Extra Configuration: Passed to templates for flexibility.
extra:
  # Version provider for the mike plugin to handle versioned documentation.
  version:
    provider: mike
  # Disables the "Made with MkDocs" generator text in the footer.
  generator: false
  # Social links displayed as icons in the footer (Material theme).
  social:
    - icon: fontawesome/brands/github
      link: https://github.com/nicholas-fedor/watchtower

# Extra CSS: Stylesheets included by the theme, relative to docs_dir.
extra_css:
  - stylesheets/theme.css

# Markdown Extensions: https://www.mkdocs.org/user-guide/configuration/#markdown_extensions
# Custom formatting extensions beyond default meta, toc, tables, and fenced_code.
markdown_extensions:
  - toc:
      # Enables permalinks for table of contents headings.
      permalink: True
      # Separator for permalinks in table of contents.
      separator: "_"
  # Enables admonition blocks (e.g., note, warning).
  - admonition
  # Enables collapsible details blocks.
  # https://facelessuser.github.io/pymdown-extensions/extensions/details/
  - pymdownx.details
  # Enables code highlighting for fenced code blocks.
  # https://facelessuser.github.io/pymdown-extensions/extensions/highlight/
  - pymdownx.highlight
  # Enables inline code highlighting.
  # https://facelessuser.github.io/pymdown-extensions/extensions/inlinehilite/
  - pymdownx.inlinehilite
  # Enables nested fenced code blocks.
  # https://facelessuser.github.io/pymdown-extensions/extensions/superfences/
  - pymdownx.superfences
  # Enables link-related functionality.
  # https://facelessuser.github.io/pymdown-extensions/extensions/magiclink/
  - pymdownx.magiclink:
      # Render commit, pull, and issue links in a shorthand syntax
      repo_url_shortener: True
      # The provider to use for repository shorthand syntax and shortener
      provider: github
      # The default user name to use for the specified provider
      user: nicholas-fedor
      # The default repository name to use for the specified user and provider
      repo: watchtower
  # https://facelessuser.github.io/pymdown-extensions/extensions/saneheaders/
  - pymdownx.saneheaders
  # Enables tabbed content blocks for examples or comparisons.
  # https://facelessuser.github.io/pymdown-extensions/extensions/tabbed/
  - pymdownx.tabbed:
      alternate_style: true

# Navigation: https://www.mkdocs.org/user-guide/configuration/#nav
# Site structure with paths relative to docs_dir.
nav:
  - Home: "index.md"
  - Getting Started:
      - Introduction: "introduction.md"
      - Usage Overview: "usage-overview.md"
      - Updating Watchtower: "updating.md"
  - Configuration:
      - Arguments: "arguments.md"
      - Container Selection: "container-selection.md"
      - Private Registries: "private-registries.md"
      - Secure Connections: "secure-connections.md"
  - Monitoring & Integration:
      - Notifications: "notifications.md"
      - Templates: "templates.md"
      - Template Preview: "template-preview.md"
      - Metrics: "metrics.md"
  - Advanced Features:
      - Linked Containers: "linked-containers.md"
      - Remote Hosts: "remote-hosts.md"
      - Stop Signals: "stop-signals.md"
      - Lifecycle Hooks: "lifecycle-hooks.md"
      - Running Multiple Instances: "running-multiple-instances.md"
      - HTTP API Mode: "http-api-mode.md"

# Plugins: https://www.mkdocs.org/user-guide/configuration/#plugins
# Additional functionality for the site build.
plugins:
  # Enables search functionality with lunr.js.
  - search
  # Enables versioned documentation with version selector.
  - mike:
      version_selector: true
      css_dir: css
  # Displays last updated dates on pages, formatted as time ago.
  - git-revision-date-localized:
      enable_creation_date: true
      type: timeago

# Build Directories: https://www.mkdocs.org/user-guide/configuration/#build-directories
# Default directories for documentation source and output.
docs_dir: ../../docs
site_dir: ../../site

# Validation: https://www.mkdocs.org/user-guide/configuration/#validation
# Strictness settings for link validation during builds.
validation:
  nav:
    # Warns if files in docs_dir are not in nav.
    omitted_files: warn
    # Warns if absolute links are used in nav.
    absolute_links: warn
  links:
    # Warns if linked files are not found.
    not_found: warn
    # Warns if anchors in links do not exist.
    anchors: warn
    # Treats absolute links as relative to docs_dir for validation.
    absolute_links: relative_to_docs
    # Warns if relative links are unrecognized.
    unrecognized_links: warn

# Live Reloading: https://www.mkdocs.org/user-guide/configuration/#live-reloading
# Directories to watch for changes during mkdocs serve.
watch:
  - ../../docs
